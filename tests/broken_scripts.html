<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../style.css">
  </head>
  <body>
    <h1>Test: Non-existent Scripts</h1>
    <p>Measures how long the browser takes when trying to load a non-existent external script.</p>
    <hr>
    <ul id="results"></ul>
    <script>
      const start = Date.now();
      const list = document.getElementById("results");
      function logElapsed(domain) {
        const now = Date.now();
        const elapsed = now - start;
        const li = document.createElement("li");
        li.innerHTML = `<strong>${domain}</strong> - Elapsed Time: <code>${elapsed} ms</code>`;
        list.appendChild(li);
      }
      const urls = [
        { domain: "browserabc.com", url: "https://www.browserabc.com/invalid.js" },
        { domain: "google.com", url: "https://www.google.com/invalid.js" },
        { domain: "developersheavean.com", url: "https://www.developersheavean.com/invalid.js" },
        { domain: "notarealsite.com", url: "https://www.notarealsite.com/invalid.js" },
        { domain: "browserheaven.com", url: "https://www.browserheaven.com/invalid.js" },
        { domain: "invalidcdn.com", url: "https://cdn.invalidcdn.com/file.js" },
        { domain: "slowresource.com", url: "https://slowresource.com/missing.js" },
        { domain: "junkcdn.org", url: "https://junkcdn.org/dead.js" },
        { domain: "delayedcdn.net", url: "https://delayedcdn.net/never.js" }
      ];
      for (const { domain, url } of urls) {
        const script = document.createElement("script");
        script.src = url;
        script.onerror = () => logElapsed(domain);
        document.head.appendChild(script);
      }
    </script>
  </body>
</html>
